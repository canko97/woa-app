FROM node:alpine

ARG MONGODB_CONNECTION_STRING_POSTFEED
ARG ACCESS_TOKEN_PUBLIC_KEY
ARG REFRESH_PUBLIC_KEY

WORKDIR /app

COPY package.json ./

RUN npm install

COPY ./ ./

ENV MONGODB_CONNECTION_STRING_POSTFEED=$MONGODB_CONNECTION_STRING_POSTFEED
ENV ACCESS_TOKEN_PUBLIC_KEY=$ACCESS_TOKEN_PUBLIC_KEY
ENV REFRESH_PUBLIC_KEY=$REFRESH_PUBLIC_KEY

CMD ["npm", "start"]

